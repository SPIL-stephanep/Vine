(function(a){function e(a,b){var c=a[f]=a[f]||g++,d=i[c];d||(d=i[c]={e:{},b:{}}),d.e[b]=d.e[b]||[];return d}function d(b){return a.getElementById(b)||b}function c(b,c,d){var e="initEvent",f="HTMLEvents",g,h=a.documentElement.appendChild(a.createElement("div")),i;return b.fireEvent?(h.onclick=function(){b.fireEvent("on"+c,window.event),i=window.event.returnValue},h.fireEvent("onclick"),i):({click:1,mousedown:1,mouseup:1,mousemove:1}[c]&&(e="initMouseEvent",f="MouseEvents"),g=a.createEvent(f),g[e](c,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(g))}function b(a,b){for(var c in a)b(a[c],c)}var f=Math.random(),g=1,h=0,i={};this.vine={bind:function(a,c,f){a=d(a),b(c.split(" "),function(b){var c=e(a,b);c.e[b].push(f),c.b[b]||(a.nodeType&&(a.attachEvent?a.attachEvent("on"+b,function(){a._v=1;var c=!vine.trigger(a,b,vine.Event(window.event)).cancel;a._v=null;return c}):a.addEventListener(b,function(c){a._v=1,vine.trigger(a,b,vine.Event(c)).canceled&&c.preventDefault(),delete a._v},null)),c.b[b]=1)})},Event:function(a){a=a||{},b({preventDefault:function(){a.defaultPrevented=!0},stopPropogation:function(){a.propogationStopped=a.cancelBubble=!0},target:a.srcElement,timestamp:(new Date).getTime()},function(b,c){a[c]=typeof a[c]=="undefined"?b:a[c]}),a._v=1;return a},trigger:function(a,f,g){g=g||{},a=d(a);var h=g._v?g:vine.Event({target:a,data:g,type:f}),i,j;h.canceled=!1,a.nodeType&&!a._v?h.canceled={blur:1,focus:1,click:a.fireEvent}[f]?a[f]():c(a,f,h):b(e(a).e[f]||[],function(b,c){h.canceled=h.canceled||b.call(a,h)===!1||h.defaultPrevented});return h},unbind:function(a,c,f){var g=e(d(a)).e,h={};c&&f&&(h[c]=g[c]),c.call||f?b(c&&f?h:g,function(a,d){var e=[];b(a||[],function(a){a!=(f?f:c)&&e.push(a)}),g[d]=e}):g[c]=[]}}})(document)