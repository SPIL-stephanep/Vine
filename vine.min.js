(function(){function d(a,b){var c=a[f]=a[f]||g++,d=i[c];d||(d=i[c]={e:{},b:{}}),d.e[b]=d.e[b]||[];return d}function c(a){return document.getElementById(a)||a}function b(a,b,c){var d="initEvent",e="HTMLEvents",f;return a.fireEvent?(a.fireEvent("on"+b,c),!c.retVal):({click:1,mousedown:1,mouseup:1,mousemove:1}[b]&&(d="initMouseEvent",e="MouseEvents"),f=document.createEvent(e),f[d](b),a.dispatchEvent(f))}function a(a,b){for(var c in a)b(a[c],c)}var f=Math.random(),g=1,h=0,i={};this.vine={bind:function(b,f,g){b=c(b),a(f.split(" "),function(a){var c=d(b,a);c.e[a].push(g),c.b[a]||(b.nodeType&&(b.attachEvent?b.attachEvent("on"+a,function(){b._v=1;var c=!vine.trigger(b,a,vine.Event(e)).cancel;delete b._v;return c}):b.addEventListener(a,function(c){b._v=1,vine.trigger(b,a,vine.Event(c)).canceled&&c.preventDefault(),delete b._v})),c.b[a]=1)})},Event:function(b){b=b||{},a({preventDefault:function(){this.defaultPrevented=!0},stopPropogation:function(){this.propogationStopped=this.cancelBubble=!0},target:b.srcElement,timestamp:(new Date).getTime()},function(a,c){b[c]=typeof b[c]=="undefined"?a:b[c]}),b._v=1;return b},trigger:function(e,f,g){g=g||{},e=c(e);var h=g._v?g:vine.Event({target:e,data:g,type:f}),i,j;h.canceled=!1,e.nodeType&&!e._v?h.canceled={blur:1,focus:1}[f]?e[f]():b(e,f,h):a(d(e).e[f]||[],function(a,b){h.canceled=h.canceled||a.call(e,h)===!1||h.defaultPrevented});return h},unbind:function(b,e,f){var g=d(c(b)).e,h={};e&&f&&(h[e]=g[e]),e.call||f?a(e&&f?h:g,function(b,c){var d=[];a(b||[],function(a){a!=(f?f:e)&&d.push(a)}),g[c]=d}):g[e]=[]}}})()