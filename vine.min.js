(function(a){function f(a,b){var c=a[g]=a[g]||h++,d=j[c];d||(d=j[c]={e:{},b:{}}),d.e[b]=d.e[b]||[];return d}function d(b){return a.getElementById(b)||b}function c(b,c,d){var e="initEvent",f="HTMLEvents",g;return b.fireEvent?(b.fireEvent("on"+c,d),!d.retVal):({click:1,mousedown:1,mouseup:1,mousemove:1}[c]&&(e="initMouseEvent",f="MouseEvents"),g=a.createEvent(f),g[e](c,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(g))}function b(a,b){for(var c in a)b(a[c],c)}var g=Math.random(),h=1,i=0,j={};this.vine={bind:function(a,c,g){a=d(a),b(c.split(" "),function(b){var c=f(a,b);c.e[b].push(g),c.b[b]||(a.nodeType&&(a.attachEvent?a.attachEvent("on"+b,function(){a._v=1;var c=!vine.trigger(a,b,vine.Event(e)).cancel;delete a._v;return c}):a.addEventListener(b,function(c){a._v=1,vine.trigger(a,b,vine.Event(c)).canceled&&c.preventDefault(),delete a._v},null)),c.b[b]=1)})},Event:function(a){a=a||{},b({preventDefault:function(){a.defaultPrevented=!0},stopPropogation:function(){a.propogationStopped=a.cancelBubble=!0},target:a.srcElement,timestamp:(new Date).getTime()},function(b,c){a[c]=typeof a[c]=="undefined"?b:a[c]}),a._v=1;return a},trigger:function(a,e,g){g=g||{},a=d(a);var h=g._v?g:vine.Event({target:a,data:g,type:e}),i,j;h.canceled=!1,a.nodeType&&!a._v?h.canceled={blur:1,focus:1}[e]?a[e]():c(a,e,h):b(f(a).e[e]||[],function(b,c){h.canceled=h.canceled||b.call(a,h)===!1||h.defaultPrevented});return h},unbind:function(a,c,e){var g=f(d(a)).e,h={};c&&e&&(h[c]=g[c]),c.call||e?b(c&&e?h:g,function(a,d){var f=[];b(a||[],function(a){a!=(e?e:c)&&f.push(a)}),g[d]=f}):g[c]=[]}}})(document)